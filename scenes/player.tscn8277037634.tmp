[gd_scene load_steps=74 format=3 uid="uid://btbeu0xdkpisq"]

[ext_resource type="Script" uid="uid://btnx0mtfnqeug" path="res://scripts/actors/player.gd" id="1_4flbx"]
[ext_resource type="Script" uid="uid://cyu224lucyda8" path="res://scripts/components/sequence_skill.gd" id="2_apa73"]
[ext_resource type="Script" uid="uid://bjvp3kd6bmkho" path="res://scripts/components/movement_component.gd" id="2_g2els"]
[ext_resource type="Resource" uid="uid://ckjc1cdhkvxg6" path="res://resources/player/attack/player_light_attacks.tres" id="2_oprun"]
[ext_resource type="Script" uid="uid://bwq542vou2wu1" path="res://scripts/profiles/attack_set.gd" id="3_74r1k"]
[ext_resource type="Script" uid="uid://beortrl7adiim" path="res://scripts/components/buffer_component.gd" id="3_f1ej7"]
[ext_resource type="Script" uid="uid://qxnqp6qiqxw" path="res://scripts/components/hitbox.gd" id="3_qfm1y"]
[ext_resource type="Script" uid="uid://dus5o11ra71f" path="res://scripts/core/state_machine.gd" id="3_qhqgy"]
[ext_resource type="Script" uid="uid://dyhsqdl12br5e" path="res://scripts/components/base_skill.gd" id="3_u2ulf"]
[ext_resource type="Script" uid="uid://c50xfgbngchgg" path="res://scripts/states/locomotion_state.gd" id="4_dqkch"]
[ext_resource type="Script" uid="uid://b32n8s4pkaq3b" path="res://scripts/components/health_component.gd" id="4_fulsm"]
[ext_resource type="AudioStream" uid="uid://br3naex6ir5bb" path="res://audio/attack_5.wav" id="5_74r1k"]
[ext_resource type="Script" uid="uid://ci25w6pwsje4r" path="res://scripts/profiles/attack_profile.gd" id="5_giy8y"]
[ext_resource type="Resource" uid="uid://5dqv7xvlptll" path="res://resources/player/counter/mikiri.tres" id="6_giy8y"]
[ext_resource type="Script" uid="uid://mqtxcxisr6ph" path="res://scripts/states/dodge_state.gd" id="6_tuyoq"]
[ext_resource type="Resource" uid="uid://cw10wx6p10d4y" path="res://resources/player/dodge/neutral.tres" id="7_fjrip"]
[ext_resource type="Resource" uid="uid://bqjgtxke4um5v" path="res://resources/player/parried/default.tres" id="7_gl8cc"]
[ext_resource type="Resource" uid="uid://brr4qpn5yk0mn" path="res://resources/player/dodge/forward.tres" id="8_d2wvv"]
[ext_resource type="Resource" uid="uid://h5j4chnrxexj" path="res://resources/player/dodge/back.tres" id="9_3v2ag"]
[ext_resource type="Resource" uid="uid://bt3sgcgwjxve0" path="res://resources/player/locomotion/default.tres" id="9_487ah"]
[ext_resource type="Resource" uid="uid://cfu400oitmjxr" path="res://resources/player/dodge/up.tres" id="10_jej6c"]
[ext_resource type="Resource" uid="uid://cxtoyg6r5qy34" path="res://resources/player/dodge/down.tres" id="11_f1ej7"]
[ext_resource type="Script" uid="uid://c3f0ddxqxcn8k" path="res://scripts/states/attack_state.gd" id="12_jej6c"]
[ext_resource type="Script" uid="uid://bupjea265f4xy" path="res://scripts/profiles/countered_profile.gd" id="13_2gdjj"]
[ext_resource type="Script" uid="uid://cmjo1r3dy7y1a" path="res://scripts/listeners/animation_listener.gd" id="15_a8ls1"]
[ext_resource type="Script" uid="uid://nl1a7e12lrfa" path="res://scripts/listeners/sound_listener.gd" id="16_qfm1y"]
[ext_resource type="Texture2D" uid="uid://bqpwrbau08mpn" path="res://assets/player/spritesheetiddle.png" id="17_fdfoy"]
[ext_resource type="Texture2D" uid="uid://bbxn0qa386jnl" path="res://assets/player/spritesheetwalk.png" id="18_hhpqf"]
[ext_resource type="Script" uid="uid://hhcv8mh33t6y" path="res://scripts/components/stamina_component.gd" id="19_4r5pv"]
[ext_resource type="Script" uid="uid://6j164hqmaqt2" path="res://scripts/states/parry_state.gd" id="19_60mlk"]
[ext_resource type="Texture2D" uid="uid://lkkoow147rp2" path="res://assets/player/spritesheetjump.png" id="19_g5jhy"]
[ext_resource type="Texture2D" uid="uid://bliefvjwxan1x" path="res://assets/player/spritesheetparry.png" id="20_holxr"]
[ext_resource type="Resource" uid="uid://b7kijgne205pc" path="res://resources/player/parry/default.tres" id="20_i4ail"]
[ext_resource type="Script" uid="uid://ba650tjbftjqi" path="res://scripts/states/parried_state.gd" id="21_4ni07"]
[ext_resource type="Script" uid="uid://24v4chol2qs0" path="res://scripts/profiles/buffer_profile.gd" id="21_487ah"]
[ext_resource type="Texture2D" uid="uid://c0yl33gs6b8dx" path="res://assets/player/spritesheetdashfoward.png" id="21_mx1m4"]
[ext_resource type="Texture2D" uid="uid://bsbveitkojiu7" path="res://assets/player/spritesheetdashback.png" id="22_4gjji"]
[ext_resource type="Script" uid="uid://b31jt2qq4fmkr" path="res://scripts/components/poise_component.gd" id="22_bj30b"]
[ext_resource type="Script" uid="uid://m2bbkg5u3e8f" path="res://scripts/states/stagger_state.gd" id="22_l71n6"]
[ext_resource type="Script" uid="uid://7awh4v6bsojt" path="res://scripts/components/combo_component.gd" id="22_md1ol"]
[ext_resource type="Resource" uid="uid://hoyhnn4kdadc" path="res://resources/player/stagger/default.tres" id="23_ke2ow"]
[ext_resource type="Script" uid="uid://b3auw1r8kc2yi" path="res://scripts/states/block_stun_state.gd" id="24_31cv2"]
[ext_resource type="Script" uid="uid://bbrgs7ayus45u" path="res://scripts/components/hurtbox.gd" id="24_l71n6"]
[ext_resource type="Script" uid="uid://b0lnh740qgaih" path="res://scripts/core/attack_executor.gd" id="25_hax0n"]
[ext_resource type="Resource" uid="uid://c13fhm2w824s2" path="res://resources/player/block/default.tres" id="25_pf23h"]
[ext_resource type="Script" uid="uid://bnsx7y061rnqe" path="res://scripts/states/guard_broken_state.gd" id="26_dt7fs"]
[ext_resource type="Script" uid="uid://dmqafi2pyifje" path="res://scripts/components/skill_combo_component.gd" id="26_j2b1d"]
[ext_resource type="Resource" uid="uid://diorbol6o41cm" path="res://resources/player/guard_broken/default.tres" id="27_wqfne"]
[ext_resource type="Script" uid="uid://bsk4xllkbirnu" path="res://scripts/states/finisher_ready_state.gd" id="28_wnwbv"]
[ext_resource type="Resource" uid="uid://dlyjau1qwi2fq" path="res://resources/player/finisher/default.tres" id="29_gl8cc"]
[ext_resource type="Script" uid="uid://b72ucjj1gl7t2" path="res://scripts/states/sequence_state.gd" id="36_t4otl"]
[ext_resource type="Script" uid="uid://cycmw65rta0mh" path="res://scripts/states/execute_counter_state.gd" id="40_giy8y"]
[ext_resource type="Script" uid="uid://80lq1gnacaa2" path="res://scripts/states/countered_state.gd" id="50_6e8lb"]
[ext_resource type="Script" uid="uid://cjolmubu1vmxi" path="res://scripts/states/death_state.gd" id="52_sc3ue"]
[ext_resource type="Script" uid="uid://cdtcv6tkc4hp1" path="res://scripts/components/focus_component.gd" id="53_lxlsd"]
[ext_resource type="Script" uid="uid://bwxgsevlwe736" path="res://scripts/core/action_cost_validator.gd" id="54_ha2mi"]

[sub_resource type="Resource" id="Resource_8svfe"]
script = ExtResource("5_giy8y")
startup_duration = 0.3
active_duration = 0.3
recovery_duration = 0.2
link_duration = 0.6
animation_name = &""
active_sfx = ExtResource("5_74r1k")
hitbox_size = Vector2(300, 64)
hitbox_position = Vector2(90, -64)
damage = 20.0
stamina_cost = 0.0
focus_cost = 100
focus_gain_on_hit = 5
stamina_damage = 20.0
poise_impact_contribution = 100.0
poise_momentum_gain = 0.0
poise_momentum_duration = 1.5
knockback_vector = Vector2(400, -300)
parry_interaction = 1
unparryable_type = 1
startup_movement_velocity = Vector2(0, 0)
active_movement_velocity = Vector2(300, 0)
recovery_movement_velocity = Vector2(0, 0)
link_movement_velocity = Vector2(0, 0)
startup_poise_shield = 100.0
active_poise_shield = 100.0
recovery_poise_shield = 0.0
metadata/_custom_type_script = "uid://ci25w6pwsje4r"

[sub_resource type="Resource" id="Resource_2a3c5"]
script = ExtResource("3_74r1k")
attacks = Array[ExtResource("5_giy8y")]([SubResource("Resource_8svfe")])
metadata/_custom_type_script = "uid://bwq542vou2wu1"

[sub_resource type="Resource" id="Resource_42b1b"]
script = ExtResource("2_apa73")
skill_phases = Array[ExtResource("3_74r1k")]([SubResource("Resource_2a3c5")])
skill_name = ""
metadata/_custom_type_script = "uid://cyu224lucyda8"

[sub_resource type="Resource" id="Resource_6e8lb"]
script = ExtResource("3_u2ulf")
skill_name = ""
metadata/_custom_type_script = "uid://dyhsqdl12br5e"

[sub_resource type="Resource" id="Resource_fdfoy"]
script = ExtResource("5_giy8y")
startup_duration = 0.3
active_duration = 0.2
recovery_duration = 0.2
link_duration = 0.6
animation_name = &""
hitbox_size = Vector2(90, 64)
hitbox_position = Vector2(90, -64)
damage = 1.0
stamina_cost = 0.0
focus_cost = 0
focus_gain_on_hit = 5
stamina_damage = 10.0
poise_impact_contribution = 10.0
poise_momentum_gain = 0.0
poise_momentum_duration = 1.5
knockback_vector = Vector2(150, -100)
parry_interaction = 0
unparryable_type = 0
startup_movement_velocity = Vector2(150, 0)
active_movement_velocity = Vector2(0, 0)
recovery_movement_velocity = Vector2(0, 0)
link_movement_velocity = Vector2(0, 0)
startup_poise_shield = 10.0
active_poise_shield = 10.0
recovery_poise_shield = 300.0
metadata/_custom_type_script = "uid://ci25w6pwsje4r"

[sub_resource type="Resource" id="Resource_sc3ue"]
script = ExtResource("13_2gdjj")
duration = 1.0
animation_name = &""
poise_shield_contribution = 0.0
metadata/_custom_type_script = "uid://bupjea265f4xy"

[sub_resource type="Animation" id="Animation_fdfoy"]
resource_name = "idle"
length = 0.500003
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Visuals/Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.0333333, 0.0666667, 0.1, 0.133333, 0.166667, 0.2, 0.233333, 0.266667, 0.3, 0.333333, 0.366667, 0.4, 0.433333, 0.466667, 0.5),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Visuals/Sprite2D:texture")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [ExtResource("17_fdfoy")]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Visuals/Sprite2D:hframes")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [4]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("Visuals/Sprite2D:vframes")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [4]
}

[sub_resource type="Animation" id="Animation_holxr"]
resource_name = "Jump"
length = 0.86667
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Visuals/Sprite2D:texture")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [ExtResource("19_g5jhy")]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Visuals/Sprite2D:frame")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.0333333, 0.0666667, 0.1, 0.133333, 0.166667, 0.2, 0.233333, 0.266667, 0.3, 0.333333, 0.366667, 0.4, 0.433333, 0.466667, 0.5, 0.533333, 0.566667, 0.6, 0.633333, 0.666667, 0.7, 0.733333, 0.766667, 0.8, 0.833333),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Visuals/Sprite2D:hframes")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [6]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("Visuals/Sprite2D:vframes")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [6]
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("Visuals/PathTarget:position")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0, 0.297306, 0.457742, 0.633333, 0.86667),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1),
"update": 0,
"values": [Vector2(0, 0), Vector2(0, 0), Vector2(0, -250), Vector2(0, 0), Vector2(0, 0)]
}

[sub_resource type="Animation" id="Animation_mx1m4"]
resource_name = "Parry"
length = 0.400003
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Visuals/Sprite2D:texture")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [ExtResource("20_holxr")]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Visuals/Sprite2D:hframes")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [4]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Visuals/Sprite2D:vframes")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [4]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("Visuals/Sprite2D:frame")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0, 0.0333333, 0.0666667, 0.1, 0.133333, 0.166667, 0.2, 0.233333, 0.266667, 0.3, 0.333333, 0.366667),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11]
}

[sub_resource type="Animation" id="Animation_hhpqf"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Visuals/Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [0]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Visuals/Sprite2D:texture")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [ExtResource("17_fdfoy")]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Visuals/Sprite2D:hframes")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [4]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("Visuals/Sprite2D:vframes")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [4]
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("Visuals/PathTarget:position")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(0, 0)]
}

[sub_resource type="Animation" id="Animation_g5jhy"]
resource_name = "Walk"
length = 0.833337
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Visuals/Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.0333333, 0.0666667, 0.1, 0.133333, 0.166667, 0.2, 0.233333, 0.266667, 0.3, 0.333333, 0.366667, 0.4, 0.433333, 0.466667, 0.5, 0.533333, 0.566667, 0.6, 0.633333, 0.666667, 0.7, 0.733333, 0.766667, 0.8),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Visuals/Sprite2D:texture")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [ExtResource("18_hhpqf")]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Visuals/Sprite2D:hframes")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [5]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("Visuals/Sprite2D:vframes")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [5]
}

[sub_resource type="Animation" id="Animation_u2ulf"]
resource_name = "dash_back"
length = 0.600003
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Visuals/Sprite2D:texture")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [ExtResource("22_4gjji")]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Visuals/Sprite2D:hframes")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [5]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Visuals/Sprite2D:vframes")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [5]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("Visuals/Sprite2D:frame")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0, 0.0333333, 0.0666667, 0.1, 0.133333, 0.166667, 0.2, 0.233333, 0.266667, 0.3, 0.333333, 0.366667, 0.4, 0.433333, 0.466667, 0.5, 0.533333, 0.566667),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17]
}

[sub_resource type="Animation" id="Animation_4gjji"]
resource_name = "dash_forward"
length = 0.600003
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Visuals/Sprite2D:texture")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [ExtResource("21_mx1m4")]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Visuals/Sprite2D:hframes")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [5]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Visuals/Sprite2D:vframes")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [5]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("Visuals/Sprite2D:frame")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0, 0.0333333, 0.0666667, 0.1, 0.133333, 0.166667, 0.2, 0.233333, 0.266667, 0.3, 0.333333, 0.366667, 0.4, 0.433333, 0.466667, 0.5, 0.533333, 0.566667),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17]
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("Visuals/PathTarget:position")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0, 0.0333333, 0.0666667, 0.1, 0.133333, 0.166667, 0.2, 0.233333, 0.266667, 0.3, 0.333333, 0.366667, 0.4, 0.433333, 0.466667, 0.5, 0.533333, 0.566667, 0.600003),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1),
"update": 0,
"values": [Vector2(0, 0), Vector2(-100, 0), Vector2(5.55553, 0), Vector2(8.33329, 0), Vector2(11.1111, 0), Vector2(13.8888, 0), Vector2(16.6666, 0), Vector2(19.4443, 0), Vector2(22.2221, 0), Vector2(24.9999, 0), Vector2(27.7776, 0), Vector2(30.5554, 0), Vector2(33.3332, 0), Vector2(36.1109, 0), Vector2(38.8887, 0), Vector2(41.6665, 0), Vector2(44.4442, 0), Vector2(47.222, 0), Vector2(200, 0)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_hhpqf"]
_data = {
&"Idle": SubResource("Animation_fdfoy"),
&"Jump": SubResource("Animation_holxr"),
&"Parry": SubResource("Animation_mx1m4"),
&"RESET": SubResource("Animation_hhpqf"),
&"Walk": SubResource("Animation_g5jhy"),
&"dash_back": SubResource("Animation_u2ulf"),
&"dash_forward": SubResource("Animation_4gjji")
}

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_4gjji"]
radius = 83.0
height = 188.0

[sub_resource type="RectangleShape2D" id="RectangleShape2D_hhpqf"]
size = Vector2(130, 200)

[sub_resource type="Resource" id="Resource_md1ol"]
script = ExtResource("21_487ah")
buffer_window = 0.5
metadata/_custom_type_script = "uid://24v4chol2qs0"

[node name="Player" type="CharacterBody2D" groups=["player"]]
script = ExtResource("1_4flbx")
base_poise = 10.0
skill_x = SubResource("Resource_42b1b")
skill_y = SubResource("Resource_6e8lb")
finisher_profile = ExtResource("29_gl8cc")
parry_profile = ExtResource("20_i4ail")
riposte_profile = SubResource("Resource_fdfoy")
mikiri_riposte_profile = ExtResource("6_giy8y")
block_stun_profile = ExtResource("25_pf23h")
stagger_profile = ExtResource("23_ke2ow")
parried_profile = ExtResource("7_gl8cc")
guard_broken_profile = ExtResource("27_wqfne")
locomotion_profile = ExtResource("9_487ah")
countered_profile = SubResource("Resource_sc3ue")
neutral_dodge_profile = ExtResource("7_fjrip")
forward_dodge_profile = ExtResource("8_d2wvv")
back_dodge_profile = ExtResource("9_3v2ag")
up_dodge_profile = ExtResource("10_jej6c")
down_dodge_profile = ExtResource("11_f1ej7")

[node name="Camera2D" type="Camera2D" parent="."]
visible = false
offset = Vector2(0, -220)
position_smoothing_enabled = true

[node name="Visuals" type="Node2D" parent="."]

[node name="Sprite2D" type="Sprite2D" parent="Visuals"]
position = Vector2(0, -70)
scale = Vector2(0.4, 0.4)
texture = ExtResource("17_fdfoy")
hframes = 4
vframes = 4

[node name="PathTarget" type="Node2D" parent="Visuals"]

[node name="ColorRect" type="ColorRect" parent="Visuals/PathTarget"]
offset_left = -50.0
offset_top = -132.0
offset_right = 40.0
offset_bottom = 65.0

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
&"": SubResource("AnimationLibrary_hhpqf")
}

[node name="AnimationListener" type="Node" parent="." node_paths=PackedStringArray("animation_player", "state_machine")]
script = ExtResource("15_a8ls1")
animation_player = NodePath("../AnimationPlayer")
state_machine = NodePath("../StateMachine")

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(0, -31)
shape = SubResource("CapsuleShape2D_4gjji")

[node name="Hurtbox" type="Area2D" parent="."]
collision_layer = 32
collision_mask = 16
script = ExtResource("24_l71n6")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Hurtbox"]
position = Vector2(0, -30)
shape = SubResource("RectangleShape2D_hhpqf")

[node name="AttackHitbox" type="Area2D" parent="."]
collision_layer = 4
collision_mask = 8
monitoring = false
script = ExtResource("3_qfm1y")

[node name="CollisionShape2D" type="CollisionShape2D" parent="AttackHitbox"]
disabled = true

[node name="HoldInputTimer" type="Timer" parent="."]
wait_time = 0.2
one_shot = true

[node name="RunCancelTimer" type="Timer" parent="."]
wait_time = 0.15
one_shot = true

[node name="SFXPlayer" type="AudioStreamPlayer2D" parent="."]

[node name="SoundListener" type="Node" parent="." node_paths=PackedStringArray("state_machine")]
script = ExtResource("16_qfm1y")
state_machine = NodePath("../StateMachine")

[node name="HealthComponent" type="Node" parent="."]
script = ExtResource("4_fulsm")

[node name="StaminaComponent" type="Node" parent="."]
script = ExtResource("19_4r5pv")

[node name="DelayTimer" type="Timer" parent="StaminaComponent"]

[node name="MovementComponent" type="Node" parent="."]
script = ExtResource("2_g2els")

[node name="BufferComponent" type="Node" parent="."]
script = ExtResource("3_f1ej7")
buffer_profile = SubResource("Resource_md1ol")

[node name="PoiseComponent" type="Node" parent="."]
script = ExtResource("22_bj30b")
metadata/_custom_type_script = "uid://b31jt2qq4fmkr"

[node name="ComboComponent" type="Node" parent="."]
script = ExtResource("22_md1ol")
attack_set = ExtResource("2_oprun")
metadata/_custom_type_script = "uid://7awh4v6bsojt"

[node name="SkillComboComponent" type="Node" parent="."]
script = ExtResource("26_j2b1d")
metadata/_custom_type_script = "uid://dmqafi2pyifje"

[node name="FocusComponent" type="Node" parent="."]
script = ExtResource("53_lxlsd")
metadata/_custom_type_script = "uid://cdtcv6tkc4hp1"

[node name="DecayTimer" type="Timer" parent="FocusComponent"]
one_shot = true

[node name="AttackExecutor" type="Node" parent="."]
script = ExtResource("25_hax0n")
metadata/_custom_type_script = "uid://b0lnh740qgaih"

[node name="ActionCostValidator" type="Node" parent="."]
script = ExtResource("54_ha2mi")
metadata/_custom_type_script = "uid://bwxgsevlwe736"

[node name="StateMachine" type="Node" parent="."]
script = ExtResource("3_qhqgy")

[node name="LocomotionState" type="Node" parent="StateMachine"]
script = ExtResource("4_dqkch")

[node name="DodgeState" type="Node" parent="StateMachine"]
script = ExtResource("6_tuyoq")

[node name="AttackState" type="Node" parent="StateMachine"]
script = ExtResource("12_jej6c")

[node name="ParryState" type="Node" parent="StateMachine"]
script = ExtResource("19_60mlk")
metadata/_custom_type_script = "uid://6j164hqmaqt2"

[node name="ParriedState" type="Node" parent="StateMachine"]
script = ExtResource("21_4ni07")
metadata/_custom_type_script = "uid://ba650tjbftjqi"

[node name="StaggerState" type="Node" parent="StateMachine"]
script = ExtResource("22_l71n6")
metadata/_custom_type_script = "uid://m2bbkg5u3e8f"

[node name="BlockStunState" type="Node" parent="StateMachine"]
script = ExtResource("24_31cv2")
metadata/_custom_type_script = "uid://b3auw1r8kc2yi"

[node name="GuardBrokenState" type="Node" parent="StateMachine"]
script = ExtResource("26_dt7fs")
metadata/_custom_type_script = "uid://bnsx7y061rnqe"

[node name="FinisherReadyState" type="Node" parent="StateMachine"]
script = ExtResource("28_wnwbv")
metadata/_custom_type_script = "uid://bsk4xllkbirnu"

[node name="SequenceState" type="Node" parent="StateMachine"]
script = ExtResource("36_t4otl")
metadata/_custom_type_script = "uid://b72ucjj1gl7t2"

[node name="ExecuteCounterState" type="Node" parent="StateMachine"]
script = ExtResource("40_giy8y")
metadata/_custom_type_script = "uid://cycmw65rta0mh"

[node name="CounteredState" type="Node" parent="StateMachine"]
script = ExtResource("50_6e8lb")
metadata/_custom_type_script = "uid://80lq1gnacaa2"

[node name="DeathState" type="Node" parent="StateMachine"]
script = ExtResource("52_sc3ue")
metadata/_custom_type_script = "uid://cjolmubu1vmxi"
